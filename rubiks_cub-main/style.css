/* Collins Aerospace Theme - Deep Space Blue with Modern Aerospace Aesthetics */

/* Import modern fonts for aerospace feel */
@import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Exo+2:wght@300;400;600;700&display=swap');

* {
    font-family: 'Exo 2', 'Open Sans', sans-serif;
    box-sizing: border-box;
}

/* Force Collins Aerospace space-tech gradient background */
html, body { 
    margin: 0 !important; 
    padding: 0 !important;
    background: linear-gradient(135deg, 
        #0a0e27 0%, 
        #1a1f3a 25%, 
        #2d3a5f 50%, 
        #1e3a8a 75%, 
        #0f172a 100%) !important;
    background-attachment: fixed !important;
    min-height: 100vh !important;
    height: 100% !important;
    position: relative !important;
    overflow-x: hidden !important;
    z-index: 0 !important;
    transition: background 0.5s ease-in-out !important;
}

/* Add animated stars effect for space-tech feel */
body::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: 
        radial-gradient(2px 2px at 20px 30px, #ffffff, transparent),
        radial-gradient(2px 2px at 40px 70px, rgba(255,255,255,0.8), transparent),
        radial-gradient(1px 1px at 90px 40px, #ffffff, transparent),
        radial-gradient(1px 1px at 130px 80px, rgba(255,255,255,0.6), transparent),
        radial-gradient(2px 2px at 160px 30px, #ffffff, transparent),
        radial-gradient(1px 1px at 200px 50px, rgba(255,255,255,0.7), transparent),
        radial-gradient(1px 1px at 250px 90px, #ffffff, transparent);
    background-repeat: repeat;
    background-size: 300px 150px;
    animation: twinkle 25s linear infinite;
    pointer-events: none;
    z-index: 1 !important;
    transition: opacity 0.5s ease-in-out !important;
}

@keyframes twinkle {
    0% { opacity: 0.2; }
    25% { opacity: 0.6; }
    50% { opacity: 0.9; }
    75% { opacity: 0.4; }
    100% { opacity: 0.2; }
}

/* Add subtle nebula effect */
body::after {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: radial-gradient(ellipse at center, 
        rgba(59, 130, 246, 0.1) 0%, 
        rgba(30, 58, 138, 0.05) 40%, 
        transparent 70%);
    pointer-events: none;
    z-index: 2 !important;
    transition: opacity 0.5s ease-in-out !important;
}

/* Typography with aerospace styling */
h2, h3, li {
    color: #e2e8f0 !important;
    text-shadow: 0 0 10px rgba(59, 130, 246, 0.5) !important;
    font-weight: 600 !important;
    letter-spacing: 0.5px !important;
}

h2 {
    font-family: 'Orbitron', monospace !important;
    font-weight: 700 !important;
    background: linear-gradient(45deg, #60a5fa, #3b82f6, #1d4ed8) !important;
    -webkit-background-clip: text !important;
    -webkit-text-fill-color: transparent !important;
    background-clip: text !important;
    margin-bottom: 15px !important;
    font-size: 18px !important;
}

h3 {
    font-family: 'Orbitron', monospace !important;
    font-weight: 600 !important;
    font-size: 16px !important;
    margin-bottom: 12px !important;
    letter-spacing: 0.5px !important;
    color: #60a5fa !important;
}

/* Unified Left Sidebar - Main Container */
#info-container {
    position: fixed !important;
    top: 20px !important;
    left: 20px !important;
    width: 280px !important;
    max-height: calc(100vh - 40px) !important;
    background: linear-gradient(135deg, 
        rgba(30, 58, 138, 0.15), 
        rgba(59, 130, 246, 0.08)) !important;
    border: 1px solid rgba(59, 130, 246, 0.3) !important;
    border-radius: 16px !important;
    backdrop-filter: blur(15px) !important;
    box-shadow: 
        0 8px 32px rgba(0, 0, 0, 0.3),
        0 0 20px rgba(59, 130, 246, 0.2) !important;
    z-index: 10 !important;
    padding: 25px !important;
    overflow-y: auto !important;
    display: flex !important;
    flex-direction: column !important;
    gap: 25px !important;
}

/* Key Bindings Section */
#info-container h2 {
    margin-top: 0 !important;
    margin-bottom: 15px !important;
}

#info-container ul {
    list-style: none !important;
    padding: 0 !important;
    margin: 0 0 20px 0 !important;
}

#info-container li {
    padding: 8px 0 !important;
    font-size: 14px !important;
    font-weight: 400 !important;
    border-bottom: 1px solid rgba(59, 130, 246, 0.2) !important;
    color: #cbd5e1 !important;
}

#info-container li:last-child {
    border-bottom: none !important;
}

/* Action Buttons Section */
#info-container .btn {
    width: 100% !important;
    margin: 0 0 10px 0 !important;
    padding: 10px 16px !important;
    font-size: 14px !important;
    font-weight: 600 !important;
    letter-spacing: 0.5px !important;
    border-radius: 8px !important;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
    text-align: center !important;
}

#info-container .btn:hover {
    transform: translateX(5px) !important;
    box-shadow: 0 6px 20px rgba(59, 130, 246, 0.4) !important;
}

/* Level Button Group - Positioned below info-container */
#level-button-group {
    position: fixed !important;
    top: 20px !important;
    left: 20px !important;
    width: 280px !important;
    background: linear-gradient(135deg, 
        rgba(30, 58, 138, 0.15), 
        rgba(59, 130, 246, 0.08)) !important;
    border: 1px solid rgba(59, 130, 246, 0.3) !important;
    border-radius: 16px !important;
    backdrop-filter: blur(15px) !important;
    box-shadow: 
        0 8px 32px rgba(0, 0, 0, 0.3),
        0 0 20px rgba(59, 130, 246, 0.2) !important;
    z-index: 10 !important;
    padding: 25px !important;
    margin-top: 400px !important; /* Position below info-container */
    display: flex !important;
    flex-direction: column !important;
    gap: 12px !important;
}

/* Level button specific styling */
#level-button-group .btn {
    width: 100% !important;
    margin: 0 !important;
    padding: 10px 16px !important;
    font-size: 14px !important;
    font-weight: 600 !important;
    letter-spacing: 0.5px !important;
    border-radius: 8px !important;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
    text-align: center !important;
}

#level-button-group .btn:hover {
    transform: translateX(5px) !important;
    box-shadow: 0 6px 20px rgba(59, 130, 246, 0.4) !important;
}

/* Cheat Code Container - Positioned at bottom */
#cheat-container {
    position: fixed !important;
    top: 20px !important;
    left: 20px !important;
    width: 280px !important;
    background: linear-gradient(135deg, 
        rgba(30, 58, 138, 0.15), 
        rgba(59, 130, 246, 0.08)) !important;
    border: 1px solid rgba(59, 130, 246, 0.3) !important;
    border-radius: 16px !important;
    backdrop-filter: blur(15px) !important;
    box-shadow: 
        0 8px 32px rgba(0, 0, 0, 0.3),
        0 0 20px rgba(59, 130, 246, 0.2) !important;
    z-index: 10 !important;
    padding: 20px !important;
    margin-top: 700px !important; /* Position below level buttons */
}

/* Cheat input group styling */
.cheat-input-group {
    display: flex !important;
    flex-direction: column !important;
    gap: 10px !important;
    margin-bottom: 10px !important;
}

/* Cheat input field styling */
.cheat-input {
    width: 100% !important;
    padding: 10px 12px !important;
    background: linear-gradient(135deg, 
        rgba(30, 58, 138, 0.2), 
        rgba(59, 130, 246, 0.1)) !important;
    border: 1px solid rgba(59, 130, 246, 0.4) !important;
    border-radius: 8px !important;
    color: #e2e8f0 !important;
    font-family: 'Exo 2', sans-serif !important;
    font-size: 14px !important;
    font-weight: 500 !important;
    letter-spacing: 0.5px !important;
    backdrop-filter: blur(10px) !important;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
    text-align: center !important;
    text-transform: uppercase !important;
}

.cheat-input::placeholder {
    color: rgba(226, 232, 240, 0.6) !important;
    font-style: italic !important;
}

.cheat-input:focus {
    outline: none !important;
    border-color: rgba(59, 130, 246, 0.8) !important;
    box-shadow: 
        0 0 0 3px rgba(59, 130, 246, 0.2),
        0 0 20px rgba(59, 130, 246, 0.3) !important;
    background: linear-gradient(135deg, 
        rgba(30, 58, 138, 0.3), 
        rgba(59, 130, 246, 0.15)) !important;
}

/* Cheat button styling */
.btn-cheat {
    background: linear-gradient(45deg, #8b5cf6, #7c3aed) !important;
    border: 1px solid rgba(139, 92, 246, 0.3) !important;
    color: white !important;
    padding: 10px 16px !important;
    font-size: 14px !important;
    font-weight: 600 !important;
    letter-spacing: 0.5px !important;
    border-radius: 8px !important;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
    box-shadow: 0 4px 15px rgba(139, 92, 246, 0.3) !important;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3) !important;
    backdrop-filter: blur(5px) !important;
    cursor: pointer !important;
}

.btn-cheat:hover {
    background: linear-gradient(45deg, #7c3aed, #6d28d9) !important;
    transform: translateY(-2px) !important;
    box-shadow: 0 6px 20px rgba(139, 92, 246, 0.4) !important;
}

.btn-cheat:active {
    transform: translateY(0) !important;
    box-shadow: 0 2px 10px rgba(139, 92, 246, 0.3) !important;
}

/* Cheat message styling */
.cheat-message {
    font-size: 12px !important;
    font-weight: 500 !important;
    text-align: center !important;
    padding: 8px !important;
    border-radius: 6px !important;
    margin-top: 8px !important;
    min-height: 20px !important;
    transition: all 0.3s ease !important;
}

.cheat-message.success {
    background: linear-gradient(135deg, 
        rgba(16, 185, 129, 0.2), 
        rgba(5, 150, 105, 0.1)) !important;
    border: 1px solid rgba(16, 185, 129, 0.4) !important;
    color: #10b981 !important;
    text-shadow: 0 0 10px rgba(16, 185, 129, 0.5) !important;
}

.cheat-message.error {
    background: linear-gradient(135deg, 
        rgba(239, 68, 68, 0.2), 
        rgba(220, 38, 38, 0.1)) !important;
    border: 1px solid rgba(239, 68, 68, 0.4) !important;
    color: #ef4444 !important;
    text-shadow: 0 0 10px rgba(239, 68, 68, 0.5) !important;
}

.cheat-message.info {
    background: linear-gradient(135deg, 
        rgba(59, 130, 246, 0.2), 
        rgba(37, 99, 235, 0.1)) !important;
    border: 1px solid rgba(59, 130, 246, 0.4) !important;
    color: #3b82f6 !important;
    text-shadow: 0 0 10px rgba(59, 130, 246, 0.5) !important;
}

/* Button styling with Collins Aerospace theme */
.btn {
    background: linear-gradient(135deg, #3b82f6, #1d4ed8) !important;
    color: white !important;
    border: 1px solid rgba(59, 130, 246, 0.3) !important;
    border-radius: 8px !important;
    padding: 10px 20px !important;
    font-weight: 600 !important;
    letter-spacing: 0.5px !important;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
    box-shadow: 0 4px 15px rgba(59, 130, 246, 0.3) !important;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3) !important;
    backdrop-filter: blur(5px) !important;
}

.btn:hover {
    background: linear-gradient(135deg, #1d4ed8, #1e40af) !important;
    transform: translateY(-2px) !important;
    box-shadow: 0 6px 20px rgba(59, 130, 246, 0.4) !important;
}

/* Level button specific colors */
.btn-level1 {
    background: linear-gradient(45deg, #10b981, #059669) !important;
}

.btn-level1:hover {
    background: linear-gradient(45deg, #059669, #047857) !important;
}

.btn-level2 {
    background: linear-gradient(45deg, #3b82f6, #2563eb) !important;
}

.btn-level2:hover {
    background: linear-gradient(45deg, #2563eb, #1d4ed8) !important;
}

.btn-level3 {
    background: linear-gradient(45deg, #ffd700, #ff8c00) !important;
}

.btn-level3:hover {
    background: linear-gradient(45deg, #ffed4e, #ffa726) !important;
}

.btn-level4 {
    background: linear-gradient(45deg, #9b59b6, #8e44ad) !important;
}

.btn-level4:hover {
    background: linear-gradient(45deg, #8e44ad, #7d3c98) !important;
}

.btn-level5 {
    background: linear-gradient(45deg, #e74c3c, #c0392b) !important;
}

.btn-level5:hover {
    background: linear-gradient(45deg, #c0392b, #a93226) !important;
}

/* Action button colors */
.btn-success {
    background: linear-gradient(45deg, #10b981, #059669) !important;
}

.btn-success:hover {
    background: linear-gradient(45deg, #059669, #047857) !important;
}

.btn-warning {
    background: linear-gradient(45deg, #f59e0b, #d97706) !important;
}

.btn-warning:hover {
    background: linear-gradient(45deg, #d97706, #b45309) !important;
}

.btn-info {
    background: linear-gradient(45deg, #06b6d4, #0891b2) !important;
}

.btn-info:hover {
    background: linear-gradient(45deg, #0891b2, #0e7490) !important;
}

.btn-done {
    background: linear-gradient(45deg, #28a745, #20c997) !important;
}

.btn-done:hover {
    background: linear-gradient(45deg, #218838, #1ea085) !important;
}

/* Disabled button states */
.btn:disabled {
    background: #6c757d !important;
    transform: none !important;
    box-shadow: none !important;
    cursor: not-allowed !important;
}

/* Direction container with matching theme - ensure transparency */
#direction-container {
    position: fixed !important;
    top: 20px !important;
    right: 20px !important;
    background: linear-gradient(135deg, 
        rgba(30, 58, 138, 0.15), 
        rgba(59, 130, 246, 0.08)) !important;
    border: 1px solid rgba(59, 130, 246, 0.3) !important;
    border-radius: 12px !important;
    backdrop-filter: blur(15px) !important;
    box-shadow: 
        0 8px 32px rgba(0, 0, 0, 0.3),
        0 0 20px rgba(59, 130, 246, 0.2) !important;
    padding: 15px !important;
    z-index: 10 !important;
}

/* REDUCED SIZE: 3D reward canvas containers */
.engine-canvas,
.cockpit-canvas,
.wing-canvas,
.fuselage-canvas {
    width: 280px !important; /* Reduced from 400px */
    height: 200px !important; /* Reduced from 300px */
    margin: 15px 0 !important;
    border-radius: 12px !important;
    box-shadow: 0 8px 25px rgba(0,0,0,0.3) !important;
    border: 2px solid rgba(59, 130, 246, 0.3) !important;
    background: transparent !important;
}

/* NEW: Level 1 Reward Image Styling - Properly Sized */
.level1-reward-image {
    width: 300px !important; /* Set to 300px as requested */
    height: auto !important; /* Maintain aspect ratio */
    max-width: 100% !important; /* Ensure it doesn't overflow container */
    object-fit: contain !important; /* Maintain aspect ratio */
    object-position: center !important;
    margin: 15px 0 !important;
    border-radius: 12px !important;
    box-shadow: 0 8px 25px rgba(0,0,0,0.3) !important;
    border: 2px solid rgba(59, 130, 246, 0.3) !important;
    background: transparent !important;
    display: block !important; /* Ensure proper display */
}

/* Reward text styling */
.reward-text {
    font-size: 1.3em !important; /* Slightly smaller */
    margin: 15px 0 !important;
    text-shadow: 1px 1px 2px rgba(0,0,0,0.5) !important;
    font-weight: 600 !important;
}

/* Next level button styling */
.next-level-btn {
    background: linear-gradient(45deg, #28a745, #20c997) !important;
    border: none !important;
    color: white !important;
    padding: 12px 30px !important; /* Slightly smaller padding */
    font-size: 1.1em !important; /* Slightly smaller font */
    border-radius: 25px !important;
    cursor: pointer !important;
    transition: all 0.3s ease !important;
    margin-top: 15px !important;
    box-shadow: 0 5px 15px rgba(40, 167, 69, 0.4) !important;
    font-weight: 600 !important;
}

.next-level-btn:hover {
    background: linear-gradient(45deg, #218838, #1ea085) !important;
    transform: translateY(-2px) !important;
    box-shadow: 0 8px 25px rgba(40, 167, 69, 0.6) !important;
}

/* Messages container with aerospace theme */
#messages-container {
    position: fixed !important;
    bottom: 10px !important;
    left: 10px !important;
    z-index: 1050 !important;
    max-width: 350px !important;
    background: linear-gradient(135deg, 
        rgba(30, 58, 138, 0.15), 
        rgba(59, 130, 246, 0.08)) !important;
    border: 1px solid rgba(59, 130, 246, 0.3) !important;
    border-radius: 8px !important;
    backdrop-filter: blur(10px) !important;
    padding: 15px !important;
}

/* Ensure canvas container doesn't block background */
#canvas {
    background: transparent !important;
    z-index: 5 !important;
    margin-left: 320px !important; /* Adjust for sidebar width */
    margin-top: 20px !important;
}

/* Aerospace-themed scrollbar */
::-webkit-scrollbar {
    width: 8px !important;
}

::-webkit-scrollbar-track {
    background: rgba(30, 58, 138, 0.1) !important;
    border-radius: 4px !important;
}

::-webkit-scrollbar-thumb {
    background: linear-gradient(135deg, #3b82f6, #1d4ed8) !important;
    border-radius: 4px !important;
    border: 1px solid rgba(59, 130, 246, 0.3) !important;
}

::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(135deg, #1d4ed8, #1e40af) !important;
}

/* Responsive design for aerospace theme */
@media (max-width: 768px) {
    #info-container,
    #level-button-group,
    #cheat-container {
        position: relative !important;
        top: auto !important;
        left: auto !important;
        width: 100% !important;
        max-height: none !important;
        margin: 10px !important;
        padding: 15px !important;
    }
    
    #direction-container {
        padding: 15px !important;
        margin: 10px !important;
    }
    
#action-display {
        font-size: 24px !important;
        padding: 10px 20px !important;
    }
    
    h2 {
        font-size: 18px !important;
    }
    
    /* Mobile responsive reward canvas and image */
    .engine-canvas,
    .cockpit-canvas,
    .wing-canvas,
    .fuselage-canvas,
    .level1-reward-image {
        width: 240px !important;
        height: 160px !important;
    }
    
    /* Mobile canvas positioning */
    #canvas {
        margin-left: 0 !important;
        margin-top: 0 !important;
    }
}

/* Aerospace loading animation */
@keyframes aerospace-pulse {
    0%, 100% { 
        box-shadow: 0 0 20px rgba(59, 130, 246, 0.2) !important;
    }
    50% { 
        box-shadow: 0 0 30px rgba(59, 130, 246, 0.4) !important;
    }
}

.loading {
    animation: aerospace-pulse 2s ease-in-out infinite !important;
}

/* Force all containers to be transparent to show background */
div {
    background: transparent !important;
}

/* Ensure no solid backgrounds block the gradient */
* {
    background-color: transparent !important;
}

/* Dark Overlay for Reward Screen */
.reward-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.8);
    z-index: 9998;
    pointer-events: none;
}

/* Reward modal styling - ensure it's above overlay */
.reward-modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.9);
    display: none;
    justify-content: center;
    align-items: center;
    z-index: 9999; /* Higher than overlay */
}

.reward-content {
    background: linear-gradient(135deg, #1e3a8a, #3b82f6);
    padding: 30px;
    border-radius: 20px;
    text-align: center;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
    border: 2px solid rgba(59, 130, 246, 0.3);
    max-width: 500px;
    width: 90%;
    position: relative;
    z-index: 10000; /* Highest z-index */
}

/* Level 1 Reward Image Styling - Proper Size */
.level1-reward-image {
    width: 300px !important;
    height: auto !important;
    margin: 15px 0 !important;
    border-radius: 12px !important;
    box-shadow: 0 8px 25px rgba(0,0,0,0.3) !important;
    border: 2px solid rgba(59, 130, 246, 0.3) !important;
    background: transparent !important;
    object-fit: contain !important;
    object-position: center !important;
    display: block !important;
}

/* Enhanced reward text for dark mode */
.reward-text {
    font-size: 1.3em !important;
    margin: 15px 0 !important;
    text-shadow: 0 0 20px rgba(59, 130, 246, 0.8) !important;
    font-weight: 600 !important;
    color: #e2e8f0 !important;
}

/* Enhanced next level button for dark mode */
.next-level-btn {
    background: linear-gradient(45deg, #28a745, #20c997) !important;
    border: none !important;
    color: white !important;
    padding: 12px 30px !important;
    font-size: 1.1em !important;
    border-radius: 25px !important;
    cursor: pointer !important;
    transition: all 0.3s ease !important;
    margin-top: 15px !important;
    box-shadow: 0 5px 15px rgba(40, 167, 69, 0.4) !important;
    font-weight: 600 !important;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5) !important;
}

.next-level-btn:hover {
    background: linear-gradient(45deg, #218838, #1ea085) !important;
    transform: translateY(-2px) !important;
    box-shadow: 0 8px 25px rgba(40, 167, 69, 0.6) !important;
}

/* Smooth transitions for cube visibility */
#canvas {
    transition: opacity 0.5s ease-in-out !important;
}

/* Level 2 Reward Image Styling - Cockpit */
.level2-reward-image {
    width: 300px !important;
    height: auto !important;
    margin: 15px 0 !important;
    border-radius: 12px !important;
    box-shadow: 0 8px 25px rgba(0,0,0,0.3) !important;
    border: 2px solid rgba(59, 130, 246, 0.3) !important;
    background: transparent !important;
    object-fit: contain !important;
    object-position: center !important;
    display: block !important;
}